utils:
  # changes what counts as a "token", which affects the identifiers/terms collected
  # from symbols and docs, which ultimately can shift TF-IDF/BM25 vocab and embedding text
  token_pattern: "[A-Za-z0-9_]+" 
  # changes paper_id and any slug outputs that propagate to filenames/keys
  slugify_maxlen: 80
  # changes all emitted IDs (stable but different length), which flow into symbols/chunks/matches
  id_truncate: 12         
  python:
    # how far upward we scan for # blocks before a symbol, which creates longer windows and
    # can pull in more doc text leading to different docstring, identifiers and BoW, leading to different matches
    max_leading_lines: 12
    # stop scanning on the first blank line, which can merge separated comment islands 
    # into one docstring (bigger docs)
    stop_on_blank_line: true
  c_like:
    # upward scan limit for slashes/JSDoc, which imapcts the doc size
    max_leading_lines: 12
chunks:
  # max <div> nesting to descend into
  section_depth_limit: 3           
  # skip sections with titles matching this regex
  excluded_section_titles_regex: "(acknowledg(e)?ments?|references|funding|appendix|supplement)"
  excluded_section_types: ["references"] # TEI @type values to skip (case-insensitive)
  # include <list>/<item> as paragraph chunks
  include_lists_as_paragraphs: true
  # drop very short paragraphs/items
  paragraph_min_chars: 20               
  # collect paragraph-level biblio refs
  include_citations: true                
  # prefer back-matter listBibl over header
  prefer_back_list_for_refs: true        
  # media capture
  include_figures: true
  include_tables: true
  include_equations: true
  # include <graphic url=...>
  figure_include_graphic_url: true       
  # hard cap per table (prevents huge JSON)
  table_max_rows: 100                    
  # decide to ignore xml:id/id and always generate 
  force_generate_ids: false          
  # decide to ignore title when building paper_id
  prefer_filename_for_paper_id: false    
symbols:
  # Skip directories/files
  exclude_dirs:
    - ".git"
    - "node_modules"
    - "dist"
    - "build"
    - "out"
    - "cmake-build-debug"
    - "cmake-build-release"
    - "__pycache__"
    - ".venv"
    - "venv"
    - ".mypy_cache"
    - ".pytest_cache"
  # e.g. "(^|/)tests?/|/vendor/|\\.min\\.(js|css)$"
  file_exclude_regex: ""   
  # include code span text in output
  keep_text_span: true          
  # cap text length per symbol (if keep_text_span=true)
  text_max_chars: 4000          
  # skip very large files (=2MB)
  max_file_bytes: 2000000       
  # Control which symbol kinds are emitted
  include_symbol_kinds: ["function", "method", "class", "constructor", "interface", "enum", "struct"]
  # How to build Python docstrings
  # "both" = triple-quoted + leading #
  # "only_docstring" = just triple-quoted
  # "only_leading" = just leading #
  python_doc_merge_strategy: "both"
  # Module-level span emission defaults
  emit_module_span_default: false
  module_header_capture: true
  module_header_max_lines: 80
  # Filesystem traversal
  follow_symlinks: false
map:
  # "bm25" or "tfidf"
  overlap_method: "bm25"         
  # weight for overlap; semantic gets (1 - alpha)
  alpha: 0.6                     
  # top-K returned + saved in rows
  top_k: 10                      
  # "minmax" or "none"
  normalization: "minmax"        
  # BM25 options (impactful for sparse text)
  bm25:
    # term saturation
    k1: 1.5    
    # length normalization                  
    b: 0.75                      
  # TF-IDF options (impact vocab & recall)
  tfidf:
    # 1=unigrams only
    ngram_min: 1      
    # include bigrams           
    ngram_max: 2            
    # or "" to disable     
    stop_words: "english"        
    sublinear_tf: true
    use_idf: true
  # Semantic encoder (big lever)
  semantic_model: "sentence-transformers/all-MiniLM-L6-v2"
  semantic:
    normalize_embeddings: true
    # encode speed/VRAM tradeoff
    batch_size: 64               
  # Query construction (changes what you search with)
  query:
    use_full_text_for_semantic: true
    use_full_text_for_overlap: false
    # cap BoW size
    bow_max_terms: 20            